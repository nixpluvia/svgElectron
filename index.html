<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>SVG Icon Manager</title>
    
    <link rel="stylesheet" href="./resources/css/common.css">
    <link rel="stylesheet" href="./resources/font/SystemIcons.css">
    <link rel="stylesheet" href="./resources/font/icons.css">
	<link rel="stylesheet" href="./resources/css/style.css">
	<link rel="stylesheet" href="./resources/css/components.css">
	<link rel="stylesheet" href="./resources/css/layout.css">
	<link rel="stylesheet" href="./resources/css/main.css">

    <!-- dayjs -->
	<script src="./resources/js/libs/dayjs/dayjs.min.js"></script>
	<script src="./resources/js/libs/dayjs/relativeTime.js"></script>
    <script src="./resources/js/libs/Sortable.min.js"></script>
    <script src="./resources/js/libs/svgjs/svg.min.js"></script>
    <script src="./resources/js/libs/svgjs/svg.topath.min.js"></script>
    <script src="./resources/js/libs/pickr/pickr.min.js"></script>
    <link rel="stylesheet" href="./resources/js/libs/pickr/monolith.min.css">
    
    <script src="./resources/js/core.js"></script>
    <script src="./resources/js/components.js"></script>
    <script src="./resources/js/common.js"></script>
    <script src="./resources/js/api.js"></script>

    <style>
        .card-header svg {display: block; max-height: 100%; margin: 0 auto;}
    </style>
</head>

<body>
<div id="wrap">
    <header id="header">
        <div class="header-top">
            <button type="button" id="toggleInfo" class="btn-toggle"><i class="i-menu"></i></button>
            <h1 class="logo">
                <strong>SVG Icon Manager</strong>
            </h1>

            <div class="utils">
                <div class="d-flex gap-3 col-auto ms-auto">
                    <button type="button" class="btn" data-level="2" data-size="sm" onclick="showGuideModal()"><i class="i-c-help m-r-08"></i>사용 가이드</button>
                </div>
            </div>
        </div>
        
        <div id="side" class="header-side">
            <div class="bd">
                <h4 class="tit-lg">프로젝트 정보</h4>
                <div class="g-row gap-08">
                    <label class="col-12">
                        <strong class="tit-sm">이름<small class="txt-xs">(Project Title)</small></strong>
                        <input type="text" class="f-control" id="projectTitle" data-size="xs">
                    </label>
                    <label class="col-12">
                        <strong class="tit-sm">설명<small class="txt-xs">(Description)</small></strong>
                        <input type="text" class="f-control" id="projectDescription" data-size="xs">
                    </label>
                    <div class="col-12">
                        <strong class="tit-sm">버전<small class="txt-xs">(Version)</small></strong>
                        <div class="g-row gap-04">
                            <label class="col"><input type="text" class="f-control" id="projectVersion" data-size="xs" value="1.0.0" readonly></label>
                            <div class="col-auto"><button type="button" class="btn" data-level="1" data-size="xs" onclick="changeVersion(-1)"><i class="i-minus"></i></button></div>
                            <div class="col-auto"><button type="button" class="btn" data-level="1" data-size="xs" onclick="changeVersion(1)"><i class="i-plus"></i></button></div>
                        </div>
                    </div>
                </div>
                <hr class="divider" />
                <div class="g-row gap-08">
                    <div class="col-12">
                        <strong class="tit-sm">폰트 이름<small class="txt-xs">(Font-Family)</small></strong>
                        <input type="text" class="f-control" id="fontName" data-size="xs">
                    </div>
                    <div class="col-12">
                        <strong class="tit-sm">접두사<small class="txt-xs">(Prefix)</small></strong>
                        <input type="text" class="f-control" id="fontPrefix" data-size="xs">
                    </div>
                    <div class="col-12">
                        <strong class="tit-sm">색상 세트<small class="txt-xs">(Color Set)</small></strong>
                        <div class="g-row gap-08">
                            <div class="col-3">
                                <div class="pickr-container"></div>
                            </div>
                            <div id="colorForms" class="col-9">
                                <!-- <div class="f-color">
                                    <span></span>
                                    <input type="text" class="f-control" data-size="xs">
                                    <button type="button" class="btn" data-size="xs" data-level="1" data-s="outline"><i class="i-close"></i></button>
                                </div> -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="ft">
                <div class="g-row gap-08">
                    <div class="col">
                        <button class="btn" data-size="grow sm" data-s="outline" data-level="1" onclick="selectFolder()">폴더 불러오기</button>
                    </div>
                    <div class="col">
                        <button class="btn" data-size="grow sm" data-s="outline" data-level="1" onclick="selectJson()">JSON 불러오기</button>
                    </div>
                </div>
                <hr class="divider" />
                <div class="btn-group" data-dropbox-wrap="btnDrop">
                    <button type="button" class="btn btn-main" data-level="1" data-size="sm grow" onclick="requestGenerate('all')"><i class="i-download m-r-08" data-size="lg"></i> 프로젝트 전체 생성</button>
                    <button type="button" class="btn btn-sub" data-level="1" data-size="sm" data-dropbox-trigger="btnDrop"><i class="i-more"></i></button>
                    <div class="dropbox-content ani p-12" data-dropbox-target="btnDrop">
                        <ul data-list="down">
                            <li>
                                <button type="button" class="btn" data-level="1" data-size="xs grow" data-s="outline" onclick="requestGenerate('variable')">
                                    <i class="i-download m-r-08" data-size="lg"></i> CSS Value Sheet 생성
                                </button>
                            </li>
                            <li>
                                <button type="button" class="btn" data-level="1" data-size="xs grow" data-s="outline" onclick="requestGenerate('sprite')">
                                    <i class="i-download m-r-08" data-size="lg"></i> 스프라이트 SVG 생성
                                </button>
                            </li>
                            <li>
                                <button type="button" class="btn" data-level="1" data-size="xs grow" data-s="outline" onclick="requestGenerate('font')">
                                    <i class="i-download m-r-08" data-size="lg"></i> 폰트 생성
                                </button>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </header>
    
    <main id="container">
        <section id="intro">
            <div class="la">
                <div class="title" data-section="6">
                    <h2 class="tit-visual-md">Simply Icon Manager</h2>

                </div>
                <p class="lead" data-section="6">
                    프로젝트에 사용할 SVG 폰트를 쉽게 생성하고 관리하세요.<br>
                    아래 버튼을 클릭하여 시작하세요!
                </p>
            </div>
            <div class="ra grid gap-20">
                
            </div>
        </section>

        <section id="iconArea">
            <div class="flex utils" data-section="5">
                <div class="g-row gap-08">
                    <label class="col-auto">
                        <button type="button" class="btn" data-level="1" data-size="xs" data-s="outline" onclick="selectAllIcons()">전체 선택 <i class="i-check m-l-08"></i></button>
                    </label>
                    <div class="col-auto">
                        <button type="button" class="btn" data-level="1" data-size="xs" data-s="outline" onclick="deleteSelectedIcons()">선택 삭제 <i class="i-delete m-l-08"></i></button>
                    </div>
                </div>
                <div class="m-l-auto">
                    <div class="g-row gap-08">
                        <div class="col-auto">
                            <button type="button" class="btn" data-level="2" data-size="xs" data-modal-open="svgAddModal">SVG 추가 <i class="i-plus m-l-08"></i></button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="grid-area" id="iconCards" data-section="5">
                <!-- 카드들이 여기에 동적으로 추가됩니다 -->
            </div>
        </section>
    </main>

    <!-- 편집 모달 -->
    <div id="editModal" class="icon-modal" data-modal="editModal">
        <div class="bg" data-modal-close="editModal"></div>
        <div class="modal-con">
            <div class="icon-editor">
                <div id="iconPreview" class="preview">
                    <!-- svg -->
                </div>
                <div class="info">
                    <div class="tit-box m-b-20">
                        <h3 class="tit-lg" id="modalIconName"><!-- 아이콘 이름 --></h3>
                        <input type="text" id="editIconName" class="f-control" data-size="xs">
                        <button type="button" class="btn" id="btnEditIconName" data-level="2" data-size="xs"><i class="i-c-edit"></i></button>
                    </div>
                    <div class="g-row gap-20" data-section="5">
                        <div class="item-form col-12">
                            <strong class="tit-sm">Category</strong>
                            <input type="text" class="f-control" data-size="xs" placeholder="카테고리를 입력하세요" />
                        </div>
                        <div class="item-copy col-12">
                            <strong class="tit-sm">TAG</strong>
                            <div class="code-box">
                                <i class="i-c-code" aria-hidden="true"></i>
                                <code id="modalIconTag"></code>
                                <button type="button" class="btn-copy" onclick="copyCode('tag')"><i class="i-copy"></i><span class="blind">COPY</span></button>
                            </div>
                        </div>
                        <div class="item-copy col-6">
                            <strong class="tit-sm">CSS</strong>
                            <div class="code-box">
                                <i class="i-c-css" aria-hidden="true"></i>
                                <code id="modalIconCss"></code>
                                <button type="button" class="btn-copy" onclick="copyCode('css')"><i class="i-copy"></i><span class="blind">COPY</span></button>
                            </div>
                        </div>
                        <div class="item-copy col-6">
                            <strong class="tit-sm">VARIABLE</strong>
                            <div class="code-box">
                                <i class="i-c-variable" aria-hidden="true"></i>
                                <code id="modalIconVariable"></code>
                                <button type="button" class="btn-copy" onclick="copyCode('variable')"><i class="i-copy"></i><span class="blind">COPY</span></button>
                            </div>
                        </div>
                        <div class="item-copy col-6">
                            <strong class="tit-sm">UNICODE</strong>
                            <div class="code-box">
                                <i class="i-c-unicode" aria-hidden="true"></i>
                                <code id="modalIconCode"></code>
                                <button type="button" class="btn-copy" onclick="copyCode('code')"><i class="i-copy"></i><span class="blind">COPY</span></button>
                            </div>
                        </div>
                    </div>
                    <div class="g-row gap-20" data-section="5">
                        <div class="col-auto m-l-auto">
                            <button type="button" class="btn" id="editModalSave" data-level="1" data-size="sm"><i class="i-save m-r-08"></i> SAVE</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 사용 가이드 -->
    <div id="guideModal" class="modal" data-modal="guideModal">
        <div class="modal-con">
            <div class="con-head">
                <h2 class="tit">사용 가이드</h2>
                <button type="button" class="btn-close" data-modal-close="guideModal"><span class="blind">닫기</span></button>
            </div>
            <div class="con-body">
                <section id="guideContent">
                    
                </section>
            </div>
        </div>
    </div>

    <!-- SVG 추가 -->
    <div id="svgAddModal" class="modal" data-modal="svgAddModal" data-size="sm">
        <div class="modal-con">
            <div class="con-head">
                <h2 class="tit">SVG 추가</h2>
                <button type="button" class="btn-close" data-modal-close="svgAddModal"><span class="blind">닫기</span></button>
            </div>
            <div class="con-body">
                <div id="svgAddContent">
                    <div class="area form-area">
                        <h4 class="tit-sm">코드 추가</h4>
                        <input type="text" id="svgAddName" class="f-control" placeholder="SVG 이름">
                        <textarea name="svgAddCode" id="svgAddCode" class="f-control" placeholder="SVG 코드"></textarea>
                        <button type="button" class="btn btn-submit" data-level="1" data-size="grow" onclick="modalSelectAddIcons('code')">SVG 추가</button>
                    </div>
                    <div class="area btn-area">
                        <h4 class="tit-sm">파일 추가</h4>
                        <button type="button" class="btn" data-level="1" data-size="grow" data-s="outline" onclick="modalSelectAddIcons('svg')">SVG 파일 선택</button>
                        <button type="button" class="btn" data-level="1" data-size="grow" data-s="outline" onclick="modalSelectAddIcons('folder')">폴더 선택</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>

</html>